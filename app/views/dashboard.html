<h3>
    Mashaweer Dashboard
    <small>Welcome to Mashaweer</small>
</h3>
<!--/*----- WIDGET DATA -----*/-->
<div ng-controller="dashboardController">
    <div class="Heading">
        <h4>Today's Data</h4>
    </div>
    <div class="row state-overview" id="first_state_overview1" style="z-index: 1000000;">
        <div class="col-lg-4 col-sm-6">
            <div class="panel widget bg-primary">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-primary-dark pv-lg">
                        <em class="icon fa fa-truck fa-3x"></em>
                    </div>
                    <div class="col-xs-8 pv-lg">
                        <div class="h2 mt0">{{ totalOrder }}</div>
                        <div class="text-uppercase">Total Orders</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-sm-6">
            <div class="panel widget bg-purple">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-purple-dark pv-lg">
                        <em class="icon fa fa-truck fa-3x"></em>
                        <em class="icon fa fa-check"></em>
                    </div>
                    <div class="col-xs-8 pv-lg">
                        <div class="h2 mt0">{{ totalCompletedOrder }}</div>
                        <div class="text-uppercase">Assigned Orders</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-sm-6">
            <div class="panel widget bg-green">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-green-dark pv-lg">
                        <em class="icon fa fa-truck fa-3x"></em>
                        <em class="icon fa fa-bell"></em>
                    </div>
                    <div class="col-xs-8 pv-lg">
                        <div class="h2 mt0">{{ totalUnAssignedOrder }}</div>
                        <div class="text-uppercase">Unassigned Orders</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-sm-6">
            <div class="panel widget bg-primary">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-primary-dark pv-lg">
                        <em class="icon fa fa-automobile fa-3x"></em>
                    </div>
                    <div class="col-xs-8 pv-lg">
                        <div class="h2 mt0">{{ totalOnlineDriver}}</div>
                        <div class="text-uppercase">Live Drivers</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-sm-6">
            <div class="panel widget bg-purple">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-purple-dark pv-lg">
                        <em class="icon fa fa-users fa-3x"></em>
                    </div>
                    <div class="col-xs-8 pv-lg">
                        <div class="h2 mt0">{{ totalNewCustomer }}</div>
                        <div class="text-uppercase">New Customers</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-sm-6">
            <div class="panel widget bg-green">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-green-dark pv-lg">
                        <em class="icon fa fa-try fa-3x"></em>
                    </div>
                    <div class="col-xs-8 pv-lg">
                        <div class="h2 mt0">{{ totalRevenue }}</div>
                        <div class="text-uppercase">Total Revenue</div>
                    </div>
                </div>
            </div>
        </div>
        <div style="clear:both"></div>
    </div>


</div>

<div class="row" ng-controller="MapCircleController">
    <!-- START dashboard main content-->
    <div class="col-lg-9">
        <!-- START chart-->
        <div class="row">
            <div class="col-lg-12">
                <!-- START widget-->
                <div class="panel widget bg-primary">
                    <div>
                        <div class="panel-body map-dashboard">
                            <div id="map-container" style="height:600px"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END dashboard main content-->
    <!-- START dashboard sidebar-->
    <aside class="col-lg-3">
        <!-- START messages and activity-->
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="panel-title">Live Drivers</div>
            </div>
            <!-- START list group-->
            <div class="list-group" style="height: 530px">
                <!-- START list group item-->
                <div class="list-group-item" ng-repeat="data in list">
                    <div class="media-box">
                        <div class="pull-left">
                            <img src="{{data.profilePicture}}" class="img-thumbnail img-circle driverImg">
                        </div>
                        <div class="media-box-body clearfix" style="margin-top: 5px">
                            <em class="fa fa-circle fa-stack-2x text-yellow" ng-hide="{{data.status}}"
                                title="Busy"></em>
                            <em class="fa fa-circle fa-stack-2x text-green" ng-show="{{data.status}}" title="Free"></em>

                            <div class="media-box-heading"><a href="#" class="text-purple m0">{{data.fullName}}</a>
                            </div>
                            <p class="m0">
                                <small><a href="#">{{data.phoneNumber}}</a>
                                </small>
                            </p>
                        </div>
                    </div>
                </div>
                <!-- END list group item-->
            </div>
            <!-- END list group-->
            <!-- START panel footer-->
            <div class="panel-footer clearfix">
                <small>Scroll Down to show more</small>
            </div>
            <!-- END panel-footer-->
        </div>
        <!-- END messages and activity-->
    </aside>
    <!-- END dashboard sidebar-->


    <h4>
        Live Order List
    </h4>

    <div class="container-fluid">
        <!-- START DATATABLE 2 -->
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="table-responsive">
                        <table id="datatable2" class="table table-striped table-hover">
                            <thead>
                            <tr>
                                <th>No.</th>
                                <th hidden="hidden">ID</th>
                                <th>Pick up Location</th>
                                <th>Drop off Location</th>
                                <th>Driver Name</th>
                                <th>Action</th>

                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="data in orderList">
                                <td>{{$index + 1}}</td>
                                <td hidden="hidden">{{data._id}}</td>
                                <td>{{data.pickupAddress}}</td>
                                <td>{{data.dropUpAddress}}</td>
                                <td>{{data.driverFullName}}</td>
                                <td style="text-align: center;">
                                    <button ng-click="reAssign(data.email)"
                                            title="Reassign" class="btn btn-sm btn-success">Reassign
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- **************************************************************************
******************* Modal to add credit ***********************************
*******************************************************************************-->
<script type="text/ng-template" id="addCredit">
    <div class="ngdialog-message">
        <h3>Add Credit</h3>

        <div class="panel panel-default">
            <form method="post" validate-form="" novalidate="" ng-submit="addCredit(data)">

                <div class="panel-body">

                    <div class="form-group">
                        <label class="control-label">Email Id</label>
                        <input type="email" name="busi_pro_name" required="required" class="form-control"
                               ng-model="data.email" capitalize-first/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Credit</label>
                        <input type="text" name="busi_desc" required="required" class="form-control"
                               ng-model="data.credit" data-parsley-type="number"/>
                    </div>
                </div>
                <div class="panel-footer btn-align">
                    <button type="submit" class="btn btn-primary">Submit</button>
                    <button type="button" ng-click="closeThisDialog(0)" class="btn btn-default">Cancel
                    </button>
                    <div ng-show="successMsg" class="alert alert-success text-center" style="margin-top: 10px;">
                        {{successMsg}}
                    </div>
                    <div ng-show="errorMsg" class="alert alert-danger text-center" style="margin-top: 10px;">
                        {{errorMsg}}
                    </div>
                </div>
            </form>
        </div>

    </div>


</script>

<!-- **************************************************************************
******************* Modal to display msg **************************************
*******************************************************************************-->
<script type="text/ng-template" id="display_msg">
    <div class="ngdialog-message">

        <h4>{{displaymsg2}}</h4>
        <button type="submit" ng-click="$state.reload() && closeThisDialog(0)" class="btn btn-primary"
                style="margin-top:20px;float:right;">OK
        </button>

        <div style="clear: both;"></div>
    </div>
</script>

<!-- **************************************************************************
******************* Modal to add Order ***********************************
*******************************************************************************-->
<script type="text/ng-template" id="placeOrder">
    <div class="ngdialog-message">
        <h3>Place Order</h3>
        <div class="row">
            <div class="col-lg-6">
                <form method="post" validate-form="" novalidate="" ng-submit="AddBusinessProduct(addbusinessproduct)">
                    <div class="panel panel-default">

                        <div id="panelDemo3" class="panel panel-default custom-panel">
                            <div class="panel-heading">
                                <label>Pick Up</label>
                                <input class="pull-right ng-valid ng-dirty ng-valid-parse ng-touched" type="checkbox" ng-model="panelDemo3">
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <div collapse="!panelDemo3" ng-init="panelDemo3=false" class="panel-wrapper">
                                        <div class="">
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="phone_no"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Mobile" ng-model="job.phone_no" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="sender_name"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Sender Name" ng-model="job.sender_name" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="company_name"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Company Name" ng-model="job.company_name" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="pick_up_before"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Pick-up Before" ng-model="job.pick_up_before" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="form-group">
                                                    <input type="text" name="pick_up_address"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Pick-up Address" ng-model="job.pick_up_address" ng-required="hasPickup"
                                                           required="required" googleplace="">
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="form-group">
                                                    <input type="text" name="info"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Info" ng-model="job.info" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="panelDemo2" class="panel panel-default custom-panel">
                            <div class="panel-heading">
                                <label>Delivery</label>
                                <input class="pull-right ng-valid ng-dirty ng-valid-parse ng-touched" type="checkbox" ng-model="panelDemo2">
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <div collapse="!panelDemo2" ng-init="panelDemo2=false" class="panel-wrapper">
                                        <div class="">
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="phone_no"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Mobile" ng-model="job.phone_no" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="sender_name"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Sender Name" ng-model="job.sender_name" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="company_name"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Company Name" ng-model="job.company_name" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="pick_up_before"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Pick-up Before" ng-model="job.pick_up_before" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="form-group">
                                                    <input type="text" name="pick_up_address"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Pick-up Address" ng-model="job.pick_up_address" ng-required="hasPickup"
                                                           required="required" googleplace="">
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="form-group">
                                                    <input type="text" name="info"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Info" ng-model="job.info" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="panelDemo4" class="panel panel-default custom-panel">
                            <div class="panel-heading">
                                <label>Personal Details</label>
                                <input class="pull-right ng-valid ng-dirty ng-valid-parse ng-touched" type="checkbox" ng-model="panelDemo4">
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <div collapse="!panelDemo4" ng-init="panelDemo4=false" class="panel-wrapper">
                                        <div class="">
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="vehival_id"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Vehival Id" ng-model="job.vehival_id" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group"><input type="email" name="pickup_email"
                                                                               class="form-control ng-pristine ng-untouched ng-valid ng-valid-email"
                                                                               placeholder="Email(Optional)" ng-model="job.pickup_email"></div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="parcel_detail"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Parcel Detail" ng-model="job.parcel_detail" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="note"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Note" ng-model="job.note" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="panelDemo1" class="panel panel-default custom-panel">
                            <div class="panel-heading">
                                <label>Payment Details</label>
                                <input class="pull-right ng-valid ng-dirty ng-valid-parse ng-touched" type="checkbox" ng-model="panelDemo1">
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <div collapse="!panelDemo1" ng-init="panelDemo1=false" class="panel-wrapper">
                                        <div class="">
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="subscription_id"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Subscription Id" ng-model="job.subscription_id" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="amount"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Amount" ng-model="job.amount" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="payment_mode"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Payment Mode" ng-model="job.payment_mode" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <input type="text" name="payment_at"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Payment At" ng-model="job.payment_at" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="form-group">
                                                    <input type="text" name="promo_code"
                                                           class="form-control ng-dirty ng-valid-parse ng-invalid ng-invalid-required ng-touched"
                                                           placeholder="Promo Code" ng-model="job.promo_code" ng-required="hasPickup"
                                                           required="required">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer btn-align">
                            <button type="submit" class="btn btn-primary">Submit</button>
                            <button type="button" ng-click="closeThisDialog(0)" class="btn btn-default">Cancel
                            </button>
                            <div ng-show="successMsg" class="alert alert-success text-center" style="margin-top: 10px;">
                                {{successMsg}}
                            </div>
                            <div ng-show="errorMsg" class="alert alert-danger text-center" style="margin-top: 10px;">
                                {{errorMsg}}
                            </div>
                        </div>
                    </div>
                </form>

            </div>
            <div class="col-lg-6" ng-controller="MapCircleController1">
                <div class="panel widget bg-primary">
                    <div>
                        <div class="panel-body map-dashboard">
                            <div id="map-container" style="height:410px"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

